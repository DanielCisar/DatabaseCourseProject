\doxysection{Catalog\+Update\+Command Class Reference}
\hypertarget{class_catalog_update_command}{}\label{class_catalog_update_command}\index{CatalogUpdateCommand@{CatalogUpdateCommand}}


\doxylink{class_command}{Command} to update values in a target column for rows matching a specified condition.  




{\ttfamily \#include $<$Catalog\+Update\+Command.\+hpp$>$}

Inheritance diagram for Catalog\+Update\+Command\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_catalog_update_command}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_catalog_update_command_a01d4c4df665c8e889cfcb9917e014637}{Catalog\+Update\+Command}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&context)
\begin{DoxyCompactList}\small\item\em Constructs a \doxylink{class_catalog_update_command}{Catalog\+Update\+Command} instance. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_catalog_update_command_aefaf4415c6568c436dd52cd3cfba6472}{execute}} (const std\+::vector$<$ std\+::string $>$ \&params) override
\begin{DoxyCompactList}\small\item\em Executes the \textquotesingle{}update\textquotesingle{} command, modifying table data conditionally. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_catalog_update_command_a402d8c77925a281b50c399c821efe10f}{clone}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&new\+Context) const override
\begin{DoxyCompactList}\small\item\em Creates a deep copy of the current object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_command}{Command}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Command} ()=default
\begin{DoxyCompactList}\small\item\em Virtual destructor for safe cleanup. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{class_command}{Command} to update values in a target column for rows matching a specified condition. 

This command allows users to modify data within a table. It identifies rows where a specific search column contains a given value, and for all such matching rows, it updates the value in a different (or the same) target column. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_catalog_update_command_a01d4c4df665c8e889cfcb9917e014637}\index{CatalogUpdateCommand@{CatalogUpdateCommand}!CatalogUpdateCommand@{CatalogUpdateCommand}}
\index{CatalogUpdateCommand@{CatalogUpdateCommand}!CatalogUpdateCommand@{CatalogUpdateCommand}}
\doxysubsubsection{\texorpdfstring{CatalogUpdateCommand()}{CatalogUpdateCommand()}}
{\footnotesize\ttfamily \label{class_catalog_update_command_a01d4c4df665c8e889cfcb9917e014637} 
Catalog\+Update\+Command\+::\+Catalog\+Update\+Command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{context}{}\end{DoxyParamCaption})}



Constructs a \doxylink{class_catalog_update_command}{Catalog\+Update\+Command} instance. 

Constructs a \doxylink{class_catalog_update_command}{Catalog\+Update\+Command} object, initializing it with the shared command context.


\begin{DoxyParams}{Parameters}
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object, which encapsulates the application\textquotesingle{}s shared database catalog and console output handler.\\
\hline
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object. This context provides access to the application\textquotesingle{}s shared database catalog and console output utilities, which are necessary for performing update operations and reporting results. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_catalog_update_command_a402d8c77925a281b50c399c821efe10f}\index{CatalogUpdateCommand@{CatalogUpdateCommand}!clone@{clone}}
\index{clone@{clone}!CatalogUpdateCommand@{CatalogUpdateCommand}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \label{class_catalog_update_command_a402d8c77925a281b50c399c821efe10f} 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} Catalog\+Update\+Command\+::clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{new\+Context}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Creates a deep copy of the current object. 

Creates a deep copy of the current {\ttfamily \doxylink{class_catalog_update_command}{Catalog\+Update\+Command}} object.

This override implements the polymorphic cloning behavior defined in {\ttfamily \doxylink{class_command}{Command}}. It constructs a new instance, associating it with the provided {\ttfamily new\+Context}.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated object, which is a deep copy of this instance.
\end{DoxyReturn}
This override constructs a new {\ttfamily \doxylink{class_catalog_update_command}{Catalog\+Update\+Command}} instance, associating it with the provided {\ttfamily new\+Context}. Since {\ttfamily \doxylink{class_catalog_update_command}{Catalog\+Update\+Command}} itself only holds a reference to {\ttfamily \doxylink{struct_command_context}{Command\+Context}} and no other dynamically allocated members, a simple construction with the new context is sufficient for cloning this command object.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated {\ttfamily \doxylink{class_catalog_update_command}{Catalog\+Update\+Command}} object. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
The caller is responsible for deleteing the returned pointer. 
\end{DoxyWarning}


Implements \mbox{\hyperlink{class_command_ad72ab674403f89ab62d9f31218c78551}{Command}}.

\Hypertarget{class_catalog_update_command_aefaf4415c6568c436dd52cd3cfba6472}\index{CatalogUpdateCommand@{CatalogUpdateCommand}!execute@{execute}}
\index{execute@{execute}!CatalogUpdateCommand@{CatalogUpdateCommand}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily \label{class_catalog_update_command_aefaf4415c6568c436dd52cd3cfba6472} 
void Catalog\+Update\+Command\+::execute (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::string $>$ \&}]{params}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Executes the \textquotesingle{}update\textquotesingle{} command, modifying table data conditionally. 

Executes the \textquotesingle{}update\textquotesingle{} command, conditionally modifying table data.

This method identifies rows in a specified {\ttfamily table\+Name} where the value in {\ttfamily search\+Column\+Index} matches {\ttfamily search\+Value}. For each matching row, it updates the cell in {\ttfamily target\+Column\+Index} to {\ttfamily target\+Value}. The {\ttfamily target\+Value} will be converted to the appropriate type for the {\ttfamily target\+Column}. A success message is printed to the console upon completion.


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings representing command-\/line parameters. Expected format\+:
\begin{DoxyItemize}
\item {\ttfamily params\mbox{[}0\mbox{]}}\+: "{}update"{} (command name)
\item {\ttfamily params\mbox{[}1\mbox{]}}\+: The name of the table to update.
\item {\ttfamily params\mbox{[}2\mbox{]}}\+: The 0-\/indexed integer position of the column to search within (as a string).
\item {\ttfamily params\mbox{[}3\mbox{]}}\+: The value (as a string) to match in the search column.
\item {\ttfamily params\mbox{[}4\mbox{]}}\+: The 0-\/indexed integer position of the column to update (as a string).
\item {\ttfamily params\mbox{[}5\mbox{]}}\+: The new value (as a string) to set in the target column.
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If no catalog is currently loaded. \\
\hline
{\em std\+::runtime\+\_\+error} & If the number of parameters is incorrect (not 6). \\
\hline
{\em std\+::invalid\+\_\+argument} & If {\ttfamily params\mbox{[}2\mbox{]}} or {\ttfamily params\mbox{[}4\mbox{]}} cannot be converted to an integer. \\
\hline
{\em std\+::runtime\+\_\+error} & If the specified table does not exist in the catalog. \\
\hline
{\em std\+::out\+\_\+of\+\_\+range} & If {\ttfamily search\+Column\+Index} or {\ttfamily target\+Column\+Index} is out of bounds for the table\textquotesingle{}s columns. \\
\hline
{\em std\+::exception} & Any exceptions propagated from {\ttfamily \doxylink{class_table_column_a0197eaf50969a9afe0d2b6825b241cec}{Table\+Column\+::change\+Value\+At\+Index}} (e.\+g., {\ttfamily std\+::invalid\+\_\+argument} if {\ttfamily target\+Value} cannot be converted to the target column\textquotesingle{}s type).\\
\hline
\end{DoxyExceptions}
This function processes the command-\/line arguments to obtain the table name, the search column index, the search value, the target column index, and the new target value. It performs validation checks to ensure a catalog is loaded, parameters are correct, and the table exists.

The method then retrieves the specified table from the {\ttfamily context.\+loaded\+Catalog}, along with the {\ttfamily search\+Col} and {\ttfamily target\+Col}. It validates that both column indices are within the table\textquotesingle{}s bounds.

It iterates through all rows of the table. For each row, if the value in the {\ttfamily search\+Col} at the current row index matches the {\ttfamily search\+Value}, then the value in the {\ttfamily target\+Col} at the same row index is updated to {\ttfamily target\+Value} using {\ttfamily target\+Col-\/\texorpdfstring{$>$}{>}change\+Value\+At\+Index()}. This method handles necessary type conversions and validations for the target column. A success message is printed to the console upon completion of the update operation. Any errors encountered during parsing, table/column lookup, or value conversion are caught and reported to the console.


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings containing command-\/line arguments. Expected elements\+:
\begin{DoxyItemize}
\item {\ttfamily params\mbox{[}0\mbox{]}}\+: "{}update"{}
\item {\ttfamily params\mbox{[}1\mbox{]}}\+: Name of the table to be updated.
\item {\ttfamily params\mbox{[}2\mbox{]}}\+: 0-\/indexed integer position of the column to search within (as a string).
\item {\ttfamily params\mbox{[}3\mbox{]}}\+: Value (string) to match in the search column.
\item {\ttfamily params\mbox{[}4\mbox{]}}\+: 0-\/indexed integer position of the column to update (as a string).
\item {\ttfamily params\mbox{[}5\mbox{]}}\+: New value (string) to set in the target column.
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If {\ttfamily context.\+loaded\+Catalog\+Exists} is {\ttfamily false} (no catalog loaded). \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily params.\+size()} is not 6 (incorrect number of arguments). \\
\hline
{\em std\+::invalid\+\_\+argument} & If {\ttfamily params\mbox{[}2\mbox{]}} or {\ttfamily params\mbox{[}4\mbox{]}} cannot be converted to a valid integer. \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily context.\+loaded\+Catalog.\+return\+Table\+By\+Name()} fails to find the specified table. \\
\hline
{\em std\+::out\+\_\+of\+\_\+range} & If {\ttfamily search\+Column\+Index} or {\ttfamily target\+Column\+Index} is less than 0 or greater than or equal to the table\textquotesingle{}s number of columns. \\
\hline
{\em std\+::exception} & Catches any exceptions propagated from {\ttfamily \doxylink{class_table_column_a0197eaf50969a9afe0d2b6825b241cec}{Table\+Column\+::change\+Value\+At\+Index}} (e.\+g., {\ttfamily std\+::invalid\+\_\+argument} if {\ttfamily target\+Value} format is incorrect for the target column\textquotesingle{}s type, or {\ttfamily std\+::out\+\_\+of\+\_\+range} if {\ttfamily i} is invalid, though the loop should prevent that). Catches any other unexpected exceptions and reports their messages to the console. \\
\hline
\end{DoxyExceptions}


Implements \mbox{\hyperlink{class_command_ab0a152e96747ac9b24c624514fcc58a7}{Command}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Database\+Course\+Project/Catalog\+Update\+Command.\+hpp\item 
Database\+Course\+Project/Catalog\+Update\+Command\+Impl.\+cpp\end{DoxyCompactItemize}
