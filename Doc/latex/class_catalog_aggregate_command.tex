\doxysection{Catalog\+Aggregate\+Command Class Reference}
\hypertarget{class_catalog_aggregate_command}{}\label{class_catalog_aggregate_command}\index{CatalogAggregateCommand@{CatalogAggregateCommand}}


Performs aggregate calculations (sum, product, minimum, maximum) on numeric column values in a table.  




{\ttfamily \#include $<$Catalog\+Aggregate\+Command.\+hpp$>$}

Inheritance diagram for Catalog\+Aggregate\+Command\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_catalog_aggregate_command}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_catalog_aggregate_command_ae5995d71ef3eb02d6e4e669cc87986d0}{Catalog\+Aggregate\+Command}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&context)
\begin{DoxyCompactList}\small\item\em Constructs a \doxylink{class_catalog_aggregate_command}{Catalog\+Aggregate\+Command} instance. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_catalog_aggregate_command_ac159554142c605c4f777766f6437b8d6}{execute}} (const std\+::vector$<$ std\+::string $>$ \&params) override
\begin{DoxyCompactList}\small\item\em Executes the aggregate command, performing calculations on matching rows. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_catalog_aggregate_command_a58f16f1337bbebd486471133bcc962bd}{clone}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&new\+Context) const override
\begin{DoxyCompactList}\small\item\em Creates a deep copy of the current object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_command}{Command}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Command} ()=default
\begin{DoxyCompactList}\small\item\em Virtual destructor for safe cleanup. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Performs aggregate calculations (sum, product, minimum, maximum) on numeric column values in a table. 

This command allows users to perform aggregate operations on a specified target column within a table. The aggregation is conditionally applied only to rows that meet a defined search criterion on a different (or the same) column. The result of the aggregation is then printed to the console. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_catalog_aggregate_command_ae5995d71ef3eb02d6e4e669cc87986d0}\index{CatalogAggregateCommand@{CatalogAggregateCommand}!CatalogAggregateCommand@{CatalogAggregateCommand}}
\index{CatalogAggregateCommand@{CatalogAggregateCommand}!CatalogAggregateCommand@{CatalogAggregateCommand}}
\doxysubsubsection{\texorpdfstring{CatalogAggregateCommand()}{CatalogAggregateCommand()}}
{\footnotesize\ttfamily \label{class_catalog_aggregate_command_ae5995d71ef3eb02d6e4e669cc87986d0} 
Catalog\+Aggregate\+Command\+::\+Catalog\+Aggregate\+Command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{context}{}\end{DoxyParamCaption})}



Constructs a \doxylink{class_catalog_aggregate_command}{Catalog\+Aggregate\+Command} instance. 

Constructs a \doxylink{class_catalog_aggregate_command}{Catalog\+Aggregate\+Command} object, initializing it with the shared command context.


\begin{DoxyParams}{Parameters}
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object, which encapsulates the application\textquotesingle{}s shared database catalog and I/O utility handlers.\\
\hline
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object. This context provides access to the application\textquotesingle{}s shared database catalog and console output utilities, which are necessary for performing aggregation operations and reporting results. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_catalog_aggregate_command_a58f16f1337bbebd486471133bcc962bd}\index{CatalogAggregateCommand@{CatalogAggregateCommand}!clone@{clone}}
\index{clone@{clone}!CatalogAggregateCommand@{CatalogAggregateCommand}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \label{class_catalog_aggregate_command_a58f16f1337bbebd486471133bcc962bd} 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} Catalog\+Aggregate\+Command\+::clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{new\+Context}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Creates a deep copy of the current object. 

Creates a deep copy of the current {\ttfamily \doxylink{class_catalog_aggregate_command}{Catalog\+Aggregate\+Command}} object.

This override implements the polymorphic cloning behavior defined in {\ttfamily \doxylink{class_command}{Command}}. It constructs a new instance, associating it with the provided {\ttfamily new\+Context}.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated object, which is a deep copy of this instance.
\end{DoxyReturn}
This override constructs a new {\ttfamily \doxylink{class_catalog_aggregate_command}{Catalog\+Aggregate\+Command}} instance, associating it with the provided {\ttfamily new\+Context}. Since {\ttfamily \doxylink{class_catalog_aggregate_command}{Catalog\+Aggregate\+Command}} itself only holds a reference to {\ttfamily \doxylink{struct_command_context}{Command\+Context}} and no other dynamically allocated members, a simple construction with the new context is sufficient for cloning this command object.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated {\ttfamily \doxylink{class_catalog_aggregate_command}{Catalog\+Aggregate\+Command}} object. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
The caller is responsible for deleteing the returned pointer. 
\end{DoxyWarning}


Implements \mbox{\hyperlink{class_command_ad72ab674403f89ab62d9f31218c78551}{Command}}.

\Hypertarget{class_catalog_aggregate_command_ac159554142c605c4f777766f6437b8d6}\index{CatalogAggregateCommand@{CatalogAggregateCommand}!execute@{execute}}
\index{execute@{execute}!CatalogAggregateCommand@{CatalogAggregateCommand}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily \label{class_catalog_aggregate_command_ac159554142c605c4f777766f6437b8d6} 
void Catalog\+Aggregate\+Command\+::execute (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::string $>$ \&}]{params}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Executes the aggregate command, performing calculations on matching rows. 

Executes the aggregate command, performing a calculation on filtered numeric data.

This method takes a table name, a search column index, a search value, a target column index (for aggregation), and the desired operation. It filters rows based on the search condition and then applies the aggregate operation (sum, product, minimum, or maximum) to the values in the specified target column of those matching rows. The final result is printed to the console.


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings representing command-\/line parameters. Expected format\+:
\begin{DoxyItemize}
\item {\ttfamily params\mbox{[}0\mbox{]}}\+: "{}aggregate"{} (command name)
\item {\ttfamily params\mbox{[}1\mbox{]}}\+: Name of the table to perform aggregation on.
\item {\ttfamily params\mbox{[}2\mbox{]}}\+: Index of the column to use for the search condition (0-\/indexed).
\item {\ttfamily params\mbox{[}3\mbox{]}}\+: Value to match in the search column.
\item {\ttfamily params\mbox{[}4\mbox{]}}\+: Index of the column on which the aggregation will be performed (0-\/indexed).
\item {\ttfamily params\mbox{[}5\mbox{]}}\+: The aggregation operation to perform ("{}sum"{}, "{}product"{}, "{}minimum"{}, or "{}maximum"{}).
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If no catalog is currently loaded. \\
\hline
{\em std\+::runtime\+\_\+error} & If the number of parameters is incorrect (not 6). \\
\hline
{\em std\+::runtime\+\_\+error} & If the specified table does not exist. \\
\hline
{\em std\+::out\+\_\+of\+\_\+range} & If the search column index or target column index is invalid (out of bounds). \\
\hline
{\em std\+::runtime\+\_\+error} & If the target column is not of a numeric type (Integer or Double). \\
\hline
{\em std\+::runtime\+\_\+error} & If a non-\/numeric value is found in the target column during aggregation. \\
\hline
{\em std\+::runtime\+\_\+error} & If no rows match the search criterion. \\
\hline
{\em std\+::invalid\+\_\+argument} & If an unknown aggregation operation is specified. \\
\hline
{\em std\+::exception} & Any other exceptions propagated from underlying operations (e.\+g., {\ttfamily std\+::stoi}).\\
\hline
\end{DoxyExceptions}
This function parses the command-\/line arguments to extract the table name, search column index, search value, target column index, and the desired aggregation operation. It then performs the following steps\+:
\begin{DoxyEnumerate}
\item Validates that a catalog is loaded and that the correct number of parameters (6) is provided.
\item Retrieves the target {\ttfamily \doxylink{class_table}{Table}} from the {\ttfamily context.\+loaded\+Catalog}.
\item Validates that both search and target column indices are within valid bounds.
\item Ensures the target column is of a numeric type (Integer or Double) suitable for aggregation.
\item Iterates through the table\textquotesingle{}s rows\+: if a row matches the {\ttfamily search\+Value} in the {\ttfamily search\+Column}, it attempts to convert the value from the {\ttfamily target\+Column} to a {\ttfamily double} and adds it to a temporary collection of cells. Non-\/numeric values in the target column will cause an error.
\item If no rows match the search condition, an error is thrown.
\item Performs the specified aggregation operation ("{}sum"{}, "{}product"{}, "{}minimum"{}, "{}maximum"{}) using the collected numeric values.
\item Prints the final calculated aggregate result to the console. Errors during any of these steps are caught and reported to the console.
\end{DoxyEnumerate}


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings containing command-\/line arguments. Expected elements\+:
\begin{DoxyItemize}
\item {\ttfamily params\mbox{[}0\mbox{]}}\+: "{}aggregate"{}
\item {\ttfamily params\mbox{[}1\mbox{]}}\+: \doxylink{class_table}{Table} name.
\item {\ttfamily params\mbox{[}2\mbox{]}}\+: Search column index (as a string, converted to int).
\item {\ttfamily params\mbox{[}3\mbox{]}}\+: Search value (string).
\item {\ttfamily params\mbox{[}4\mbox{]}}\+: Target column index (as a string, converted to int).
\item {\ttfamily params\mbox{[}5\mbox{]}}\+: Operation name ("{}sum"{}, "{}product"{}, "{}minimum"{}, "{}maximum"{}).
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If {\ttfamily context.\+loaded\+Catalog\+Exists} is {\ttfamily false}. \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily params.\+size()} is not 6. \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily context.\+loaded\+Catalog.\+return\+Table\+By\+Name()} fails (table not found). \\
\hline
{\em std\+::out\+\_\+of\+\_\+range} & If {\ttfamily params\mbox{[}2\mbox{]}} or {\ttfamily params\mbox{[}4\mbox{]}} cannot be converted to an integer, or if the resulting {\ttfamily search\+Column} or {\ttfamily target\+Column} index is out of bounds for the table. \\
\hline
{\em std\+::runtime\+\_\+error} & If the {\ttfamily target\+Column} is not {\ttfamily Column\+Type\+::\+INTEGER} or {\ttfamily Column\+Type\+::\+DOUBLE}. \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily std\+::stod} fails to convert a value from the {\ttfamily target\+Column} to a double, indicating non-\/numeric data where numeric was expected. \\
\hline
{\em std\+::runtime\+\_\+error} & If no rows are found that match the {\ttfamily seacrh\+Value} in the {\ttfamily search\+Column}. \\
\hline
{\em std\+::invalid\+\_\+argument} & If {\ttfamily params\mbox{[}5\mbox{]}} (operation name) is not one of the recognized operations. \\
\hline
{\em std\+::exception} & Catches any other unexpected exceptions and reports their messages. \\
\hline
\end{DoxyExceptions}


Implements \mbox{\hyperlink{class_command_ab0a152e96747ac9b24c624514fcc58a7}{Command}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Database\+Course\+Project/Catalog\+Aggregate\+Command.\+hpp\item 
Database\+Course\+Project/Catalog\+Aggregate\+Command\+Impl.\+cpp\end{DoxyCompactItemize}
