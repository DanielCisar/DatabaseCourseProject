\doxysection{File\+Save\+Command Class Reference}
\hypertarget{class_file_save_command}{}\label{class_file_save_command}\index{FileSaveCommand@{FileSaveCommand}}


\doxylink{class_command}{Command} to persist the current in-\/memory catalog and its tables to disk.  




{\ttfamily \#include $<$File\+Save\+Command.\+hpp$>$}

Inheritance diagram for File\+Save\+Command\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_file_save_command}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_file_save_command_a621f1f2e2e60d0424febaef715c52b83}{File\+Save\+Command}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&context)
\begin{DoxyCompactList}\small\item\em Constructs a \doxylink{class_file_save_command}{File\+Save\+Command} instance. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_file_save_command_af75992a1c2394e9bde40cb029a460095}{execute}} (const std\+::vector$<$ std\+::string $>$ \&params) override
\begin{DoxyCompactList}\small\item\em Executes the \textquotesingle{}save\textquotesingle{} command, writing all loaded data back to original files. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_file_save_command_aec321b759df999efbdc9395884f9684b}{clone}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&new\+Context) const override
\begin{DoxyCompactList}\small\item\em Creates a deep copy of the current object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_command}{Command}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Command} ()=default
\begin{DoxyCompactList}\small\item\em Virtual destructor for safe cleanup. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{class_command}{Command} to persist the current in-\/memory catalog and its tables to disk. 

This command handles the application\textquotesingle{}s "{}save"{} operation, writing all changes made to the loaded catalog and its associated tables back to their original respective file paths. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_file_save_command_a621f1f2e2e60d0424febaef715c52b83}\index{FileSaveCommand@{FileSaveCommand}!FileSaveCommand@{FileSaveCommand}}
\index{FileSaveCommand@{FileSaveCommand}!FileSaveCommand@{FileSaveCommand}}
\doxysubsubsection{\texorpdfstring{FileSaveCommand()}{FileSaveCommand()}}
{\footnotesize\ttfamily \label{class_file_save_command_a621f1f2e2e60d0424febaef715c52b83} 
File\+Save\+Command\+::\+File\+Save\+Command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{context}{}\end{DoxyParamCaption})}



Constructs a \doxylink{class_file_save_command}{File\+Save\+Command} instance. 

Constructs the \doxylink{class_file_save_command}{File\+Save\+Command} object, initializing it with the provided command context.


\begin{DoxyParams}{Parameters}
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object, which provides access to the application\textquotesingle{}s shared database catalog, file writers, and console I/O handlers.\\
\hline
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object. This context is crucial for the command to access the application\textquotesingle{}s shared database catalog, as well as the necessary file output and console output utility handlers. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_file_save_command_aec321b759df999efbdc9395884f9684b}\index{FileSaveCommand@{FileSaveCommand}!clone@{clone}}
\index{clone@{clone}!FileSaveCommand@{FileSaveCommand}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \label{class_file_save_command_aec321b759df999efbdc9395884f9684b} 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} File\+Save\+Command\+::clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{new\+Context}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Creates a deep copy of the current object. 

Creates a deep copy of the current {\ttfamily \doxylink{class_file_save_command}{File\+Save\+Command}} object.

This override implements the polymorphic cloning behavior defined in {\ttfamily \doxylink{class_command}{Command}}. It constructs a new instance, associating it with the provided {\ttfamily new\+Context}.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated object, which is a deep copy of this instance.
\end{DoxyReturn}
This override constructs a new {\ttfamily \doxylink{class_file_save_command}{File\+Save\+Command}} instance, associating it with the provided {\ttfamily new\+Context}. Since {\ttfamily \doxylink{class_file_save_command}{File\+Save\+Command}} itself only holds a reference to {\ttfamily \doxylink{struct_command_context}{Command\+Context}} and no other dynamically allocated members, a simple construction with the new context is sufficient for cloning this command object.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated {\ttfamily \doxylink{class_file_save_command}{File\+Save\+Command}} object. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
The caller is responsible for deleteing the returned pointer. 
\end{DoxyWarning}


Implements \mbox{\hyperlink{class_command_ad72ab674403f89ab62d9f31218c78551}{Command}}.

\Hypertarget{class_file_save_command_af75992a1c2394e9bde40cb029a460095}\index{FileSaveCommand@{FileSaveCommand}!execute@{execute}}
\index{execute@{execute}!FileSaveCommand@{FileSaveCommand}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily \label{class_file_save_command_af75992a1c2394e9bde40cb029a460095} 
void File\+Save\+Command\+::execute (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::string $>$ \&}]{params}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Executes the \textquotesingle{}save\textquotesingle{} command, writing all loaded data back to original files. 

Executes the \textquotesingle{}save\textquotesingle{} command, persisting the current in-\/memory catalog and tables.

This method iterates through each table currently loaded in the {\ttfamily context.\+loaded\+Catalog} and attempts to save its data to the file path originally associated with that table. Subsequently, it saves the {\ttfamily context.\+loaded\+Catalog} itself (which contains the metadata and file paths of all tables) to its original catalog file path. Success or error messages are displayed to the console.


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings representing command-\/line parameters. This command expects no parameters other than the command name itself ({\ttfamily params\mbox{[}0\mbox{]}} must be "{}save"{}).\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If no catalog is currently loaded in memory when the command is executed. \\
\hline
{\em std\+::exception} & Any exceptions propagated from {\ttfamily \doxylink{class_output_file_writter_aa89490919702d320b7d4bf9bd1e759be}{Output\+File\+Writter\+::write\+Table\+To\+File}} or {\ttfamily \doxylink{class_output_file_writter_aa7147ca421e66bb319cde2be58376fac}{Output\+File\+Writter\+::write\+Catalog\+To\+File}} during the saving process (e.\+g., file write errors, permissions issues, invalid paths).\\
\hline
\end{DoxyExceptions}
This function performs the core save operation. It first validates that a catalog is currently loaded in the application\textquotesingle{}s memory. If so, it proceeds to\+:
\begin{DoxyEnumerate}
\item Iterate through each {\ttfamily \doxylink{class_table}{Table}} object within the {\ttfamily context.\+loaded\+Catalog}.
\item For each table, it calls {\ttfamily \doxylink{class_output_file_writter_aa89490919702d320b7d4bf9bd1e759be}{Output\+File\+Writter\+::write\+Table\+To\+File}} to save the table\textquotesingle{}s data back to its original file path (retrieved via {\ttfamily table.\+get\+Filename()}). Errors during individual table saves are caught and reported to the console, but the process continues for other tables.
\item After all tables are processed, it calls {\ttfamily \doxylink{class_output_file_writter_aa7147ca421e66bb319cde2be58376fac}{Output\+File\+Writter\+::write\+Catalog\+To\+File}} to save the {\ttfamily context.\+loaded\+Catalog} itself to its original catalog file path (retrieved via {\ttfamily context.\+loaded\+Catalog.\+get\+Path()}). This updates the catalog metadata, including any newly imported tables.
\item Finally, a confirmation message is printed to the console upon successful completion of all saves.
\end{DoxyEnumerate}


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings containing command-\/line arguments. This command does not accept any parameters beyond the command name ("{}save"{}); its signature is mandated by the {\ttfamily \doxylink{class_command_ab0a152e96747ac9b24c624514fcc58a7}{Command\+::execute}} interface.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If {\ttfamily context.\+loaded\+Catalog\+Exists} is {\ttfamily false}, indicating that no catalog has been opened prior to attempting the save operation. \\
\hline
{\em std\+::exception} & Any exceptions propagated from the {\ttfamily \doxylink{class_output_file_writter}{Output\+File\+Writter}} methods during file write operations (e.\+g., file access errors, permissions issues, disk full errors), which are caught and reported to the console. \\
\hline
\end{DoxyExceptions}


Implements \mbox{\hyperlink{class_command_ab0a152e96747ac9b24c624514fcc58a7}{Command}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Database\+Course\+Project/File\+Save\+Command.\+hpp\item 
Database\+Course\+Project/File\+Save\+Command\+Impl.\+cpp\end{DoxyCompactItemize}
