\doxysection{Catalog\+Inner\+Join\+Command Class Reference}
\hypertarget{class_catalog_inner_join_command}{}\label{class_catalog_inner_join_command}\index{CatalogInnerJoinCommand@{CatalogInnerJoinCommand}}


\doxylink{class_command}{Command} to perform an inner join operation between two tables in the catalog.  




{\ttfamily \#include $<$Catalog\+Inner\+Join\+Command.\+hpp$>$}

Inheritance diagram for Catalog\+Inner\+Join\+Command\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_catalog_inner_join_command}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_catalog_inner_join_command_ad0da0b53cea0455f0a0407b05256668c}{Catalog\+Inner\+Join\+Command}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&context)
\begin{DoxyCompactList}\small\item\em Constructs a \doxylink{class_catalog_inner_join_command}{Catalog\+Inner\+Join\+Command} instance. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_catalog_inner_join_command_aaed957650f7c9b8ab2c90893a4645b2b}{execute}} (const std\+::vector$<$ std\+::string $>$ \&params) override
\begin{DoxyCompactList}\small\item\em Executes the \textquotesingle{}innerjoin\textquotesingle{} command, combining two tables based on a key. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_catalog_inner_join_command_a3044a8eb2b9f071cfdc27c7fac2bc6e9}{clone}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&new\+Context) const override
\begin{DoxyCompactList}\small\item\em Creates a deep copy of the current object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_command}{Command}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Command} ()=default
\begin{DoxyCompactList}\small\item\em Virtual destructor for safe cleanup. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{class_command}{Command} to perform an inner join operation between two tables in the catalog. 

This command facilitates combining rows from two distinct tables based on a matching condition between specified columns in each table. It generates a new table containing only the rows where the join condition is met, and saves this result to a new file. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_catalog_inner_join_command_ad0da0b53cea0455f0a0407b05256668c}\index{CatalogInnerJoinCommand@{CatalogInnerJoinCommand}!CatalogInnerJoinCommand@{CatalogInnerJoinCommand}}
\index{CatalogInnerJoinCommand@{CatalogInnerJoinCommand}!CatalogInnerJoinCommand@{CatalogInnerJoinCommand}}
\doxysubsubsection{\texorpdfstring{CatalogInnerJoinCommand()}{CatalogInnerJoinCommand()}}
{\footnotesize\ttfamily \label{class_catalog_inner_join_command_ad0da0b53cea0455f0a0407b05256668c} 
Catalog\+Inner\+Join\+Command\+::\+Catalog\+Inner\+Join\+Command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{context}{}\end{DoxyParamCaption})}



Constructs a \doxylink{class_catalog_inner_join_command}{Catalog\+Inner\+Join\+Command} instance. 

Constructs a \doxylink{class_catalog_inner_join_command}{Catalog\+Inner\+Join\+Command} object, initializing it with the shared command context.


\begin{DoxyParams}{Parameters}
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object, which encapsulates the application\textquotesingle{}s shared database catalog, file writers, and console output handlers.\\
\hline
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object. This context provides access to the application\textquotesingle{}s shared database catalog, file writing utilities, and console output handlers, which are necessary for performing join operations. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_catalog_inner_join_command_a3044a8eb2b9f071cfdc27c7fac2bc6e9}\index{CatalogInnerJoinCommand@{CatalogInnerJoinCommand}!clone@{clone}}
\index{clone@{clone}!CatalogInnerJoinCommand@{CatalogInnerJoinCommand}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \label{class_catalog_inner_join_command_a3044a8eb2b9f071cfdc27c7fac2bc6e9} 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} Catalog\+Inner\+Join\+Command\+::clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{new\+Context}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Creates a deep copy of the current object. 

Creates a deep copy of the current {\ttfamily \doxylink{class_catalog_inner_join_command}{Catalog\+Inner\+Join\+Command}} object.

This override implements the polymorphic cloning behavior defined in {\ttfamily \doxylink{class_command}{Command}}. It constructs a new instance, associating it with the provided {\ttfamily new\+Context}.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated object, which is a deep copy of this instance.
\end{DoxyReturn}
This override constructs a new {\ttfamily \doxylink{class_catalog_inner_join_command}{Catalog\+Inner\+Join\+Command}} instance, associating it with the provided {\ttfamily new\+Context}. Since {\ttfamily \doxylink{class_catalog_inner_join_command}{Catalog\+Inner\+Join\+Command}} itself only holds a reference to {\ttfamily \doxylink{struct_command_context}{Command\+Context}} and no other dynamically allocated members, a simple construction with the new context is sufficient for cloning this command object.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated {\ttfamily \doxylink{class_catalog_inner_join_command}{Catalog\+Inner\+Join\+Command}} object. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
The caller is responsible for deleteing the returned pointer. 
\end{DoxyWarning}


Implements \mbox{\hyperlink{class_command_ad72ab674403f89ab62d9f31218c78551}{Command}}.

\Hypertarget{class_catalog_inner_join_command_aaed957650f7c9b8ab2c90893a4645b2b}\index{CatalogInnerJoinCommand@{CatalogInnerJoinCommand}!execute@{execute}}
\index{execute@{execute}!CatalogInnerJoinCommand@{CatalogInnerJoinCommand}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily \label{class_catalog_inner_join_command_aaed957650f7c9b8ab2c90893a4645b2b} 
void Catalog\+Inner\+Join\+Command\+::execute (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::string $>$ \&}]{params}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Executes the \textquotesingle{}innerjoin\textquotesingle{} command, combining two tables based on a key. 

Executes the \textquotesingle{}innerjoin\textquotesingle{} command, creating a new table from two joined tables.

This method performs an inner join operation between two specified tables ({\ttfamily table\+Name1}, {\ttfamily table\+Name2}) based on equality of values in their respective join columns ({\ttfamily column1}, {\ttfamily column2}). The resulting joined table will include all columns from {\ttfamily table\+Name1} followed by all columns from {\ttfamily table\+Name2}, excluding the join column from {\ttfamily table\+Name2} to avoid redundancy. The new joined table is then saved to a file named \textquotesingle{}inner\+\_\+join\+\_\+of\+\_\+\mbox{[}table1\+\_\+name\mbox{]}\+\_\+and\+\_\+\mbox{[}table2\+\_\+name\mbox{]}.csv\textquotesingle{} in the same directory as the first table.


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings representing command-\/line parameters. Expected format\+:
\begin{DoxyItemize}
\item {\ttfamily params\mbox{[}0\mbox{]}}\+: "{}innerjoin"{} (command name)
\item {\ttfamily params\mbox{[}1\mbox{]}}\+: Name of the first table.
\item {\ttfamily params\mbox{[}2\mbox{]}}\+: 0-\/indexed integer position of the join column in the first table.
\item {\ttfamily params\mbox{[}3\mbox{]}}\+: Name of the second table.
\item {\ttfamily params\mbox{[}4\mbox{]}}\+: 0-\/indexed integer position of the join column in the second table.
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If no catalog is currently loaded. \\
\hline
{\em std\+::runtime\+\_\+error} & If the number of parameters is incorrect (not 5). \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily params\mbox{[}2\mbox{]}} or {\ttfamily params\mbox{[}4\mbox{]}} cannot be converted to an integer. \\
\hline
{\em std\+::runtime\+\_\+error} & If either specified table does not exist in the catalog. \\
\hline
{\em std\+::out\+\_\+of\+\_\+range} & If {\ttfamily column1} is out of bounds for {\ttfamily table\+Name1} or {\ttfamily column2} is out of bounds for {\ttfamily table\+Name2}. \\
\hline
{\em std\+::runtime\+\_\+error} & If the data types of the join columns ({\ttfamily column1} and {\ttfamily column2}) are incompatible. \\
\hline
{\em std\+::exception} & Any other exceptions propagated during table processing or file writing (e.\+g., file creation/write errors, permissions issues, invalid path).\\
\hline
\end{DoxyExceptions}
This function processes the command-\/line arguments to obtain the names of two tables and the 0-\/indexed column indices on which to perform the join. It validates that a catalog is loaded, parameters are correct, and both tables exist.

The method then retrieves the specified tables from the {\ttfamily context.\+loaded\+Catalog}. It performs extensive validation on the column indices to ensure they are within bounds for their respective tables. It also checks that the join columns have compatible data types.

A new set of columns ({\ttfamily result\+Cols}) is initialized by cloning all columns from the first table, followed by cloning all columns from the second table, explicitly {\itshape excluding} the join column from the second table to prevent duplication in the result.

The core join logic involves nested loops\+: for each row in the first table and each row in the second table, it compares the values in their respective join columns. If the values match, a new row is constructed in {\ttfamily result\+Cols} by combining the data from the matching rows (all columns from the first table, and all columns from the second table {\itshape except} its join column).

Finally, a new {\ttfamily \doxylink{class_table}{Table}} object is created from {\ttfamily result\+Cols} with an automatically generated name (e.\+g., "{}inner\+\_\+join\+\_\+of\+\_\+table1\+\_\+and\+\_\+table2"{}) and a file path. This resulting table is then written to a CSV file in the same directory as the first table\textquotesingle{}s source file, using {\ttfamily \doxylink{class_output_file_writter_aa89490919702d320b7d4bf9bd1e759be}{Output\+File\+Writter\+::write\+Table\+To\+File}}. A confirmation message, including the path to the saved result table, is printed to the console. Errors at any stage are caught and reported.


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings containing command-\/line arguments. Expected elements\+:
\begin{DoxyItemize}
\item {\ttfamily params\mbox{[}0\mbox{]}}\+: "{}innerjoin"{}
\item {\ttfamily params\mbox{[}1\mbox{]}}\+: Name of the first table.
\item {\ttfamily params\mbox{[}2\mbox{]}}\+: 0-\/indexed integer position of the join column in the first table (as a string).
\item {\ttfamily params\mbox{[}3\mbox{]}}\+: Name of the second table.
\item {\ttfamily params\mbox{[}4\mbox{]}}\+: 0-\/indexed integer position of the join column in the second table (as a string).
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If {\ttfamily context.\+loaded\+Catalog\+Exists} is {\ttfamily false} (no catalog loaded). \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily params.\+size()} is not 5 (incorrect number of arguments). \\
\hline
{\em std\+::invalid\+\_\+argument} & If {\ttfamily params\mbox{[}2\mbox{]}} or {\ttfamily params\mbox{[}4\mbox{]}} cannot be converted to an integer. \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily context.\+loaded\+Catalog.\+return\+Table\+By\+Name()} fails to find either specified table. \\
\hline
{\em std\+::out\+\_\+of\+\_\+range} & If {\ttfamily column1} is less than 0 or greater than or equal to {\ttfamily table1.\+get\+Number\+Of\+Columns()}. \\
\hline
{\em std\+::out\+\_\+of\+\_\+range} & If {\ttfamily column2} is less than 0 or greater than or equal to {\ttfamily table2.\+get\+Number\+Of\+Columns()}. \\
\hline
{\em std\+::runtime\+\_\+error} & If the {\ttfamily Column\+Type} of {\ttfamily col1} and {\ttfamily col2} are different. \\
\hline
{\em std\+::exception} & Catches any other exceptions propagated during table processing (e.\+g., memory allocation for cloning) or file writing. \\
\hline
\end{DoxyExceptions}


Implements \mbox{\hyperlink{class_command_ab0a152e96747ac9b24c624514fcc58a7}{Command}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Database\+Course\+Project/Catalog\+Inner\+Join\+Command.\+hpp\item 
Database\+Course\+Project/Catalog\+Inner\+Join\+Command\+Impl.\+cpp\end{DoxyCompactItemize}
