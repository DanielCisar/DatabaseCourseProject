\doxysection{File\+Save\+As\+Command Class Reference}
\hypertarget{class_file_save_as_command}{}\label{class_file_save_as_command}\index{FileSaveAsCommand@{FileSaveAsCommand}}


\doxylink{class_command}{Command} to save the current database catalog and its tables to a new file path.  




{\ttfamily \#include $<$File\+Save\+As\+Command.\+hpp$>$}

Inheritance diagram for File\+Save\+As\+Command\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_file_save_as_command}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_file_save_as_command_a3438afde80b31b8475e846e2bf4d1297}{File\+Save\+As\+Command}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&context)
\begin{DoxyCompactList}\small\item\em Constructs a \doxylink{class_file_save_as_command}{File\+Save\+As\+Command} instance. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_file_save_as_command_ad1541784d4534dfa94fb53332179a649}{execute}} (const std\+::vector$<$ std\+::string $>$ \&params) override
\begin{DoxyCompactList}\small\item\em Executes the \textquotesingle{}saveas\textquotesingle{} operation, saving the current catalog and tables to a new location. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_file_save_as_command_a1c79d8e54da478a106884603a5fbf0e6}{clone}} (\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&new\+Context) const override
\begin{DoxyCompactList}\small\item\em Creates a deep copy of the current object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_command}{Command}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Command} ()=default
\begin{DoxyCompactList}\small\item\em Virtual destructor for safe cleanup. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{class_command}{Command} to save the current database catalog and its tables to a new file path. 

This command allows the user to create a copy of the currently loaded in-\/memory database catalog and all its associated tables, persisting them to a new set of CSV files at a specified location on disk. This operation does not affect the currently loaded catalog in memory. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_file_save_as_command_a3438afde80b31b8475e846e2bf4d1297}\index{FileSaveAsCommand@{FileSaveAsCommand}!FileSaveAsCommand@{FileSaveAsCommand}}
\index{FileSaveAsCommand@{FileSaveAsCommand}!FileSaveAsCommand@{FileSaveAsCommand}}
\doxysubsubsection{\texorpdfstring{FileSaveAsCommand()}{FileSaveAsCommand()}}
{\footnotesize\ttfamily \label{class_file_save_as_command_a3438afde80b31b8475e846e2bf4d1297} 
File\+Save\+As\+Command\+::\+File\+Save\+As\+Command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{context}{}\end{DoxyParamCaption})}



Constructs a \doxylink{class_file_save_as_command}{File\+Save\+As\+Command} instance. 

Constructs a \doxylink{class_file_save_as_command}{File\+Save\+As\+Command} object, initializing it with the shared command context.


\begin{DoxyParams}{Parameters}
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object, which encapsulates the application\textquotesingle{}s shared database catalog and I/O utility handlers.\\
\hline
{\em context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} object. This context provides access to the application\textquotesingle{}s shared state, including the loaded database catalog and the necessary I/O utility handlers for writing files. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_file_save_as_command_a1c79d8e54da478a106884603a5fbf0e6}\index{FileSaveAsCommand@{FileSaveAsCommand}!clone@{clone}}
\index{clone@{clone}!FileSaveAsCommand@{FileSaveAsCommand}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \label{class_file_save_as_command_a1c79d8e54da478a106884603a5fbf0e6} 
\mbox{\hyperlink{class_command}{Command}} \texorpdfstring{$\ast$}{*} File\+Save\+As\+Command\+::clone (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_command_context}{Command\+Context}} \&}]{new\+Context}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Creates a deep copy of the current object. 

Creates a deep copy of the current {\ttfamily \doxylink{class_file_save_as_command}{File\+Save\+As\+Command}} object.

This override implements the polymorphic cloning behavior defined in {\ttfamily \doxylink{class_command}{Command}}. It constructs a new instance, associating it with the provided {\ttfamily new\+Context}.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated object, which is a deep copy of this instance.
\end{DoxyReturn}
This override constructs a new {\ttfamily \doxylink{class_file_save_as_command}{File\+Save\+As\+Command}} instance, associating it with the provided {\ttfamily new\+Context}. Since {\ttfamily \doxylink{class_file_save_as_command}{File\+Save\+As\+Command}} itself only holds a reference to {\ttfamily \doxylink{struct_command_context}{Command\+Context}} and no other dynamically allocated members, a simple construction with the new context is sufficient for cloning this command object.


\begin{DoxyParams}{Parameters}
{\em new\+Context} & A reference to the {\ttfamily \doxylink{struct_command_context}{Command\+Context}} that the new cloned command should use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a newly allocated {\ttfamily \doxylink{class_file_save_as_command}{File\+Save\+As\+Command}} object. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
The caller is responsible for deleteing the returned pointer. 
\end{DoxyWarning}


Implements \mbox{\hyperlink{class_command_ad72ab674403f89ab62d9f31218c78551}{Command}}.

\Hypertarget{class_file_save_as_command_ad1541784d4534dfa94fb53332179a649}\index{FileSaveAsCommand@{FileSaveAsCommand}!execute@{execute}}
\index{execute@{execute}!FileSaveAsCommand@{FileSaveAsCommand}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily \label{class_file_save_as_command_ad1541784d4534dfa94fb53332179a649} 
void File\+Save\+As\+Command\+::execute (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::string $>$ \&}]{params}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Executes the \textquotesingle{}saveas\textquotesingle{} operation, saving the current catalog and tables to a new location. 

Executes the \textquotesingle{}saveas\textquotesingle{} command, creating a new set of catalog and table files.

This method performs the following steps\+:
\begin{DoxyEnumerate}
\item Verifies that a catalog is currently loaded in memory.
\item Validates the number of provided command-\/line parameters.
\item Constructs a new {\ttfamily \doxylink{class_catalog}{Catalog}} object representing the save target.
\item Iterates through each table in the currently loaded catalog\+:
\end{DoxyEnumerate}
\begin{DoxyItemize}
\item Creates a uniquely named copy of the table for the new location.
\item Writes this new table to a {\ttfamily .csv} file in the target directory.
\item Adds the new table\textquotesingle{}s metadata (name, new path) to the {\ttfamily new\+Catalog} object.
\end{DoxyItemize}
\begin{DoxyEnumerate}
\item Writes the {\ttfamily new\+Catalog} object (containing metadata for all the copied tables) to the specified catalog file path.
\item Prints a success message to the console, indicating the new save location.
\end{DoxyEnumerate}


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings representing command-\/line parameters.
\begin{DoxyItemize}
\item {\ttfamily params\mbox{[}0\mbox{]}} is expected to be the command name ("{}saveas"{}).
\item {\ttfamily params\mbox{[}1\mbox{]}} is the full file path where the new catalog file and its associated table files should be saved (e.\+g., "{}data/my\+\_\+new\+\_\+catalog.\+csv"{}).
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If no catalog is currently loaded in memory. \\
\hline
{\em std\+::runtime\+\_\+error} & If the number of parameters is incorrect (not 2). \\
\hline
{\em std\+::exception} & Any exceptions propagated from {\ttfamily \doxylink{class_output_file_writter_aa89490919702d320b7d4bf9bd1e759be}{Output\+File\+Writter\+::write\+Table\+To\+File}} or {\ttfamily \doxylink{class_output_file_writter_aa7147ca421e66bb319cde2be58376fac}{Output\+File\+Writter\+::write\+Catalog\+To\+File}} during the save process (e.\+g., file creation/write errors, invalid paths).\\
\hline
\end{DoxyExceptions}
This function initiates the process of saving the current in-\/memory catalog and all its contained tables to a new location specified by the user. It first performs validation checks\+:
\begin{DoxyEnumerate}
\item Ensures a catalog is currently loaded in the application.
\item Verifies that the correct number of parameters has been provided (the command name and one filepath).
\end{DoxyEnumerate}

A new {\ttfamily \doxylink{class_catalog}{Catalog}} object is constructed to represent the data at the new save location. Each table from the {\ttfamily context.\+loaded\+Catalog} is iterated over, a new name (prefixed with "{}copy\+\_\+"{}) and a new file path (within the specified target directory) are generated for its saved version. The table is then cloned with this new name and path, written to its new file, and added to the {\ttfamily new\+Catalog} object.

Finally, the {\ttfamily new\+Catalog} (which now contains metadata for all the copied tables) is written to the main catalog file at the specified {\ttfamily filepath}. A success message is printed to the console, or an error message if any step fails.


\begin{DoxyParams}{Parameters}
{\em params} & A constant reference to a vector of strings containing the command name and its arguments.
\begin{DoxyItemize}
\item {\ttfamily params\mbox{[}0\mbox{]}} is "{}saveas"{}.
\item {\ttfamily params\mbox{[}1\mbox{]}} is the target file path (e.\+g., "{}new\+\_\+db/catalog.\+csv"{}).
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & If {\ttfamily context.\+loaded\+Catalog\+Exists} is {\ttfamily false} (no file open). \\
\hline
{\em std\+::runtime\+\_\+error} & If {\ttfamily params.\+size()} is not equal to 2 (incorrect arguments). \\
\hline
{\em std\+::exception} & Any exceptions propagated from file writing operations ({\ttfamily write\+Table\+To\+File}, {\ttfamily write\+Catalog\+To\+File}) or table cloning, indicating issues like invalid paths, permissions errors, or data conversion problems during saving. \\
\hline
\end{DoxyExceptions}


Implements \mbox{\hyperlink{class_command_ab0a152e96747ac9b24c624514fcc58a7}{Command}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Database\+Course\+Project/File\+Save\+As\+Command.\+hpp\item 
Database\+Course\+Project/File\+Save\+As\+Command\+Impl.\+cpp\end{DoxyCompactItemize}
